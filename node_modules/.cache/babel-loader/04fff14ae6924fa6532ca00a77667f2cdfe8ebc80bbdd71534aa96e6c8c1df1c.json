{"ast":null,"code":"import axios from \"axios\";\n\n//var sessionToken = localStorage.getItem('sessionToken') ? localStorage.getItem('sessionToken') : null;\n//o token da sessão já é puxado dentro da API\n\nconst api = axios.create({\n  baseURL: 'http://177.11.52.138:8082/'\n  //baseURL: 'http://0.tcp.sa.ngrok.io:14562/',\n  //headers: {Authorization: `Bearer ${sessionToken}`} //todas as requisições já vão ter o token necessario\n});\n\napi.interceptors.request.use(req => {\n  // interceptar \n  if (localStorage.getItem('sessionToken')) {\n    req.headers.Authorization = `Bearer ${localStorage.getItem('sessionToken')}`;\n  }\n  return req;\n}, err => {\n  console.log(err);\n});\napi.interceptors.response.use();\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","interceptors","request","use","req","localStorage","getItem","headers","Authorization","err","console","log","response"],"sources":["C:/Users/pedro/OneDrive/Área de Trabalho/PROJETOS/Trilha - React/Fontes/delivery-mais/src/services/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n//var sessionToken = localStorage.getItem('sessionToken') ? localStorage.getItem('sessionToken') : null;\r\n  //o token da sessão já é puxado dentro da API\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://177.11.52.138:8082/',\r\n  //baseURL: 'http://0.tcp.sa.ngrok.io:14562/',\r\n  //headers: {Authorization: `Bearer ${sessionToken}`} //todas as requisições já vão ter o token necessario\r\n});\r\n\r\napi.interceptors.request.use((req) => { // interceptar \r\n  if(localStorage.getItem('sessionToken')){\r\n    req.headers.Authorization =  `Bearer ${localStorage.getItem('sessionToken')}`\r\n  }\r\n\r\n  return req;\r\n\r\n}, (err) => {\r\n  console.log(err);\r\n})\r\n\r\napi.interceptors.response.use()\r\n\r\nexport default api;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACE;;AAEF,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE;EACT;EACA;AACF,CAAC,CAAC;;AAEFF,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,GAAG,IAAK;EAAE;EACtC,IAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC,EAAC;IACtCF,GAAG,CAACG,OAAO,CAACC,aAAa,GAAK,UAASH,YAAY,CAACC,OAAO,CAAC,cAAc,CAAE,EAAC;EAC/E;EAEA,OAAOF,GAAG;AAEZ,CAAC,EAAGK,GAAG,IAAK;EACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;AAClB,CAAC,CAAC;AAEFX,GAAG,CAACG,YAAY,CAACW,QAAQ,CAACT,GAAG,EAAE;AAE/B,eAAeL,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}